<!DOCTYPE html>
<html>





<head>
  <title>Quarkus - Mavenによるアプリケーションの構築</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src https://dpm.demdex.net; script-src 'self' 'unsafe-eval' 'sha256-ANpuoVzuSex6VhqpYgsG25OHWVA1I+F6aGU04LoI+5s=' 'sha256-ipy9P/3rZZW06mTLAR0EnXvxSNcnfSDPLDuh3kzbB1w=' js.bizographics.com https://www.redhat.com https://static.redhat.com assets.adobedtm.com jsonip.com https://ajax.googleapis.com https://www.googletagmanager.com https://www.google-analytics.com https://use.fontawesome.com https://app.mailjet.com http://www.youtube.com http://www.googleadservices.com https://googleads.g.doubleclick.net https://dpm.demdex.net https://giscus.app; style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; img-src 'self' *; media-src 'self'; frame-src https://www.googletagmanager.com https://www.youtube.com https://embed.restream.io https://app.mailjet.com https://giscus.app; base-uri 'none'; object-src 'none'; form-action 'none'; font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/guides/maven-tooling" />
  <meta property="og:title" content="Mavenによるアプリケーションの構築" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/maven-tooling">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/goan.js" type="text/javascript"></script>
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
</head>

<body class="guides">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJWS5L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
    </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Quarkusとは <i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/continuum" class="">リアクティブ</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">学ぶ<i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ガイド</a></li>
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">コミュニティ <i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="/publications" class="">出版物</a></li>
          <li><a href="/awards" class="">受賞</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/" >ENGLISH</a></li>
          <li><a href="https://ja.quarkus.io/">JAPANESE</a></li>
          </ul>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    



<div class="full-width-version-bg grey align-self">
  <div class="grid-wrapper">
    <div class="grid__item width-6-12">
      <p class="returnlink"><i class="fas fa-angle-left"></i><a href="/guides/"> Back to Guides</a></p>
    </div>
    <div class="grid__item width-6-12 align-self-center text-right hide-mobile">
      <label id="guide-version-label">Select Guide Version</label>
      <select id="guide-version-dropdown">
        
      
        
        
        
        
          
        <option value="main" >Main - SNAPSHOT</option>
        
        
      
        
        
        
        
          
        <option value="latest" selected>2.9 - Latest</option>
        
        
      
        
        
        
        
          
        <option value="2.7" >2.7</option>
        
        
      
        
        
        
        
          
        <option value="2.2" >2.2</option>
        
        
      
        
        
        
        
          
        <option value="1.11" >1.11</option>
        
        
      
    
      </select>
    </div>
  </div>
</div>

<div class="grid-wrapper guide">
  <div class="grid__item width-12-12 width-12-12-mobile">
    <h1 class="text-caps">Mavenによるアプリケーションの構築 </h1>
  </div>
  <div class="width-12-12">
    <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#project-creation">新規プロジェクトの作成</a></li>
<li><a href="#エクステンションの取り扱い">エクステンションの取り扱い</a></li>
<li><a href="#dev-mode">開発モード</a>
<ul class="sectlevel2">
<li><a href="#リモート開発モード">リモート開発モード</a></li>
<li><a href="#開発モードの設定">開発モードの設定</a></li>
</ul>
</li>
<li><a href="#デバッグ">デバッグ</a></li>
<li><a href="#ideへのインポート">IDEへのインポート</a></li>
<li><a href="#quarkus-アプリケーションのビルドクラスパスツリーのロギング">Quarkus アプリケーションのビルドクラスパスツリーのロギング</a></li>
<li><a href="#downloading-maven-artifact-dependencies-for-offline-development-and-testing">Downloading Maven artifact dependencies for offline development and testing</a></li>
<li><a href="#ネイティブ実行可能ファイルの構築">ネイティブ実行可能ファイルの構築</a>
<ul class="sectlevel2">
<li><a href="#コンテナーフレンドリーな実行ファイルのビルド">コンテナーフレンドリーな実行ファイルのビルド</a></li>
</ul>
</li>
<li><a href="#build-tool-maven">Mavenの設定</a>
<ul class="sectlevel2">
<li><a href="#fast-jar">fast-jar の使用</a></li>
<li><a href="#uber-jar-maven">Uber-Jarの作成</a></li>
<li><a href="#multi-module-maven">マルチモジュールプロジェクトでの作業</a></li>
<li><a href="#maven-configuration-profile">特定の設定プロファイルでビルド</a></li>
<li><a href="#maven-multi-build">1つのモジュールから複数のアーティファクトの作成</a></li>
</ul>
</li>
<li><a href="#configuration-reference">プロジェクト出力の設定</a>
<ul class="sectlevel2">
<li><a href="#custom-test-configuration-profile">JVMモードでのカスタムテスト構成プロファイル</a></li>
<li><a href="#bootstrap-maven-properties">Bootstrap Mavenのプロパティ</a></li>
</ul>
</li>
<li><a href="#project-info">Quarkus project info</a>
<ul class="sectlevel2">
<li><a href="#project-info-misaligned">Highlighing misaligned versions</a></li>
</ul>
</li>
<li><a href="#project-update">Quarkus project update</a>
<ul class="sectlevel2">
<li><a href="#quarkus-project-rectify">Quarkus project rectify</a></li>
</ul>
</li>
</ul></div>
    <div>
      <div class="sect1">
<h2 id="project-creation"><a class="anchor" href="#project-creation"></a>新規プロジェクトの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>次のように新しいMavenプロジェクトの枠組を生成することができます。</p>
</div>
<div class="sidebarblock primary asciidoc-tabs-sync-cli">
<div class="content">
<div class="title">CLI</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app my-groupId:my-artifactId</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>For more information about how to install the Quarkus CLI and use it, please refer to <a href="cli-tooling">the Quarkus CLI guide</a>.</em></p>
</div>
</div>
</div>
<div class="sidebarblock secondary asciidoc-tabs-sync-maven">
<div class="content">
<div class="title">Maven</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn io.quarkus.platform:quarkus-maven-plugin:2.9.0.Final:create \
    -DprojectGroupId=my-groupId \
    -DprojectArtifactId=my-artifactId</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>CLIを使用している場合、次のように利用可能なオプションのリストを取得することが可能です。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maven コマンドを使用している場合、次の表が <code>create</code> コマンドに渡すことができる属性の一覧です。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">属性</th>
<th class="tableblock halign-left valign-top">デフォルト値</th>
<th class="tableblock halign-left valign-top">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectGroupId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.acme.sample</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">作成されたプロジェクトのグループID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectArtifactId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>必須</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">作成されたプロジェクトのアーティファクトID。これを渡さないと、インタラクティブモードがトリガされます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0-SNAPSHOT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">作成されたプロジェクトのバージョン</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platformGroupId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.platform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ターゲットプラットフォームのグループID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platformArtifactId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus-bom</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ターゲットプラットフォームBOMのアーティファクトID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platformVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">現在、 <a href="https://quarkus.io/guides/extension-registry-user">Quarkus Extension Registry</a>で推奨されているバージョン</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プロジェクトで使用したいプラットフォームのバージョンを指定します。バージョンの範囲を指定することもでき、その場合は指定した範囲の最新のものが使用されます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>省略した場合は作成されない</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">生成されたリソースの完全修飾名</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/hello</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">リソースパス、 <code>className</code> が設定されている場合のみ関連します。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>[]</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プロジェクトに追加するエクステンションのリスト (カンマ区切り)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkusRegistryClient</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quarkusがオンラインレジストリを使用してエクステンションカタログを解決するかどうかを指定します。これをfalseに設定すると、エクステンションカタログは定義された（またはデフォルトの）プラットフォームBOMに絞り込まれます。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>デフォルトでは、コマンドは <code>io.quarkus.platform:quarkus-bom:2.9.0.Final</code> のプラットフォーム・リリースをターゲットにします（希望するプラットフォーム・リリースの座標が指定されていない場合）。</p>
</div>
<div class="paragraph">
<p>プロジェクトは、渡された artifactId にちなんだ名前のディレクトリーに生成されます。ディレクトリーが既に存在する場合は、生成に失敗します。</p>
</div>
<div class="paragraph">
<p>ネイティブモードと jvm モード用の Dockerfile も <code>src/main/docker</code> に生成されています。イメージのビルドとコンテナーの実行の指示は、これらの Dockerfile に書かれています。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="エクステンションの取り扱い"><a class="anchor" href="#エクステンションの取り扱い"></a>エクステンションの取り扱い</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkusプロジェクトの内部から、利用可能なエクステンションのリストを取得することができます。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:list-extensions</code></pre>
</div>
</div>
<div class="paragraph">
<p>以下を使ってエクステンションを追加できます。</p>
</div>
<div class="listingblock primary,  asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add 'hibernate-validator'</code></pre>
</div>
</div>
<div class="listingblock secondary,  asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions="hibernate-validator"</code></pre>
</div>
</div>
<div class="paragraph">
<p>エクステンションは、カンマ区切りのリストを使用して渡されます。</p>
</div>
<div class="paragraph">
<p><code>io.quarkus:quarkus-agroal</code> エクステンション名は、エクステンションのGAV名です。しかし、部分的な名前を渡すことができ、Quarkusは適切なエクステンションを見つけるために最善を尽くします。例えば、 <code>agroal</code> 、 <code>Agroal</code> 、 <code>agro</code> は <code>io.quarkus:quarkus-agroal</code> に展開されます。エクステンションが見つからなかったり、複数のエクステンションが一致した場合は、コマンドの結果に赤いチェックマーク❌が表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ ./mvnw quarkus:add-extensions -Dextensions=jdbc,agroal,non-exist-ent
[...]
❌ Multiple extensions matching 'jdbc'
     * io.quarkus:quarkus-jdbc-h2
     * io.quarkus:quarkus-jdbc-mariadb
     * io.quarkus:quarkus-jdbc-postgresql
     Be more specific e.g using the exact name or the full gav.
✅ Adding extension io.quarkus:quarkus-agroal
❌ Cannot find a dependency matching 'non-exist-ent', maybe a typo?
[...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>グロブパターンに一致するすべてのエクステンションをインストールすることができます。</p>
</div>
<div class="listingblock primary,  asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add 'smallrye-*'</code></pre>
</div>
</div>
<div class="listingblock secondary,  asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions="smallrye-*"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-mode"><a class="anchor" href="#dev-mode"></a>開発モード</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkusには開発モードが組み込まれています。以下でアプリケーションを実行します。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>その後、アプリケーションのソース、リソース、および設定を更新することができます。変更は実行中のアプリケーションに自動的に反映されます。変更がすぐに反映されるので、UIやデータベースにまたがった開発をするのに最適です。</p>
</div>
<div class="paragraph">
<p>開発モードでは、バックグラウンド・コンパイルによるホット・デプロイメントが可能です。つまり、Javaファイルやリソース・ファイルを変更してブラウザを更新すると、その変更が自動的に反映されます。これは、Javaファイルやリソースファイルを変更してブラウザを更新すると、その変更が自動的に反映されることを意味します。ブラウザを更新すると、ワークスペースのスキャンが行われ、変更が検出されると、Javaファイルがコンパイルされ、アプリケーションが再デプロイされ、再デプロイされたアプリケーションによってリクエストが処理されます。コンパイルやデプロイに問題があった場合は、エラーページでお知らせします。</p>
</div>
<div class="paragraph">
<p><code>CTRL+C</code> を叩いてアプリケーションを停止させます。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>デフォルトでは、 <code>quarkus:dev</code> はデバッグホストを <code>localhost</code> に設定します (セキュリティー上の理由から)。これを変更する必要がある場合、例えばすべてのホストでデバッグを有効にしたい場合は、 <code>-DdebugHost</code> オプションを次のように使用します。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev -DdebugHost=0.0.0.0</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev -DdebugHost=0.0.0.0</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="リモート開発モード"><a class="anchor" href="#リモート開発モード"></a>リモート開発モード</h3>
<div class="paragraph">
<p>開発モードをリモートで使用することができるので、コンテナー環境(OpenShiftなど)でQuarkusを実行して、ローカルファイルに加えられた変更をすぐに確認できるようにすることができます。</p>
</div>
<div class="paragraph">
<p>これにより、実際にアプリを実行するのと同じ環境で、同じサービスにアクセスしながら開発することができます。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
本番環境では使用しないでください。開発環境でのみ使用してください。本番環境のアプリケーションを開発モードで実行してはいけません。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>これを行うには、 <code>mutable-jar</code> 形式を使用して、ミュータブルアプリケーションをビルドする必要があります。 <code>application.xml</code> で以下のプロパティーを設定してください。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.package.type=mutable-jar <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.live-reload.password=changeit <i class="conum" data-value="2"></i><b>(2)</b>
quarkus.live-reload.url=http://my.cluster.host.com:8080 <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>これは、QuarkusにMutable-jar形式を使用するように指示します。ミュータブルアプリケーションには、Quarkusのデプロイメント時間の部分も含まれているため、より多くのディスクスペースを占有します。普通に実行した場合は、イミュータブルアプリケーションと同じ速度で起動し、同じメモリーを使用しますが、開発モードで起動することもできます。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>リモート側とローカル側の通信を安全に保つためのパスワードです。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>アプリが開発モードで実行されるURL。これはローカル側でのみ必要なので、プロパティー ファイルから除外して、コマンド ラインでシステム プロパティーとして指定するとよいでしょう。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>mutable-jar</code> は、通常のQuarkus jarをビルドするのと同じ方法で発行することでビルドされます。つまり以下のように発行できます:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw clean package</code></pre>
</div>
</div>
<div class="paragraph">
<p>リモートホストでQuarkusを起動する前に、環境変数 <code>QUARKUS_LAUNCH_DEVMODE=true</code> を設定します。ベアメタルを使用している場合は、 <code>export QUARKUS_LAUNCH_DEVMODE=true</code> コマンドで設定し、適切に <code>java -jar &#8230;&#8203;</code> コマンドでアプリケーションを実行します。</p>
</div>
<div class="paragraph">
<p>アプリケーションをdocker経由で実行する場合は、 <code>docker run</code> コマンドに <code>-e QUARKUS_LAUNCH_DEVMODE=true</code> を追加してイメージを起動します。アプリケーションが起動すると、ログに次のような行が表示されるはずです: <code>Profile dev activated. Live Coding activated</code> .</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
リモート側にはMavenなどの開発ツールを入れる必要はありません。新しいQuarkusアプリケーションで生成される通常の <code>fast-jar</code> Dockerfileがあれば大丈夫です。ベアメタルでQuarkus runner jarを起動している場合は、通常のdevmodeを実行しようとしないでください。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ここで、 <code>remote-dev</code> コマンドを使用して、ローカルエージェントをリモートホストに接続する必要があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:remote-dev -Dquarkus.live-reload.url=http://my-remote-host:8080</code></pre>
</div>
</div>
<div class="paragraph">
<p>これで、ブラウザを更新するたびに、ローカルで行った変更がリモート アプリに即座に表示されるようになりました。これは、HTTPベースのロングポーリングトランスポートを介して行われ、HTTPコールを介してローカルのワークスペースとリモートアプリケーションを同期させます。</p>
</div>
<div class="paragraph">
<p>HTTP 機能を使用したくない場合は、URL を指定せずに <code>remote-dev</code> コマンドを実行するだけです。このモードでは、コマンドはローカルアプリケーションを継続的に再構築するので、 odo や rsync のような外部ツールを使ってリモートアプリケーションに同期することができます。</p>
</div>
<div class="paragraph">
<p>全ての設定オプションは以下の通りです:</p>
</div>
<div class="paragraph configuration-legend">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span> ビルド時に固定される設定プロパティ - それ以外の設定プロパティは実行時に上書き可能</p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-live-reload-live-reload-config_configuration"></a><a href="#quarkus-live-reload-live-reload-config_configuration">Configuration property</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.instrumentation"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.instrumentation">quarkus.live-reload.instrumentation</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Whether or not Quarkus should enable its ability to not do a full restart when changes to classes are compatible with JVM instrumentation. If this is set to true, Quarkus will perform class redefinition when possible.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.watched-resources"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.watched-resources">quarkus.live-reload.watched-resources</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The names of additional resource files to watch for changes, triggering a reload on change. Directories are <strong>not</strong> supported.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.password"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.password">quarkus.live-reload.password</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Password used to use to connect to the remote dev-mode application</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.url"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.url">quarkus.live-reload.url</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>URL used to use to connect to the remote dev-mode application</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.connect-timeout"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.connect-timeout">quarkus.live-reload.connect-timeout</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The amount of time to wait for a remote dev connect or reconnect</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.retry-interval"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.retry-interval">quarkus.live-reload.retry-interval</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The amount of time to wait between attempts when connecting to the server side of remote dev</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-live-reload-live-reload-config_quarkus.live-reload.retry-max-attempts"></a><code><a href="#quarkus-live-reload-live-reload-config_quarkus.live-reload.retry-max-attempts">quarkus.live-reload.retry-max-attempts</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The maximum number of attempts when connecting to the server side of remote dev</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">期間フォーマットについて</div>
<div class="paragraph">
<p>期間のフォーマットは標準の <code>java.time.Duration</code> フォーマットを使用します。詳細は <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-">Duration#parse() javadoc</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>数値で始まる期間の値を指定することもできます。この場合、値が数値のみで構成されている場合、コンバーターは値を秒として扱います。そうでない場合は、 <code>PT</code> が暗黙的に値の前に付加され、標準の <code>java.time.Duration</code> 形式が得られます。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
リモート開発モードを使用する際には SSL を使用することを推奨しますが、たとえ暗号化されていない接続を使用していても、パスワードが直接ネットワーク上で送信されることはありません。最初の接続リクエストでは、パスワードは初期状態のデータでハッシュ化され、それ以降のリクエストでは、サーバーによって生成されたランダムなセッションIDと、POSTリクエストのためのボディコンテンツ、DELETEリクエストのためのパス、そしてリプレイ攻撃を防ぐためのインクリメントカウンタでハッシュ化されます。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="開発モードの設定"><a class="anchor" href="#開発モードの設定"></a>開発モードの設定</h3>
<div class="paragraph">
<p>デフォルトでは、Maven プラグインは <code>maven-compiler-plugin</code> から <code>javac</code> に渡すコンパイラフラグをピックアップします。</p>
</div>
<div class="paragraph">
<p>開発モードで使用するコンパイラ・フラグをカスタマイズする必要がある場合は、 <code>plugin</code> ブロックに <code>configuration</code> セクションを追加し、 <code>maven-compiler-plugin</code> を設定するときと同じように <code>compilerArgs</code> プロパティーを設定します。また、 <code>source</code> 、 <code>target</code> 、および <code>jvmArgs</code> を設定することもできます。例えば、 <code>--enable-preview</code> を JVM と <code>javac</code> の両方に渡すには、 を設定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
  &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;

  &lt;configuration&gt;
    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;
    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;
    &lt;compilerArgs&gt;
      &lt;arg&gt;--enable-preview&lt;/arg&gt;
    &lt;/compilerArgs&gt;
    &lt;jvmArgs&gt;--enable-preview&lt;/jvmArgs&gt;
  &lt;/configuration&gt;

  ...
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="デバッグ"><a class="anchor" href="#デバッグ"></a>デバッグ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>開発モードでは、Quarkusはデフォルトでデバッグモードを有効にして起動し、JVMをサスペンドせずにポート <code>5005</code> をリッスンします。</p>
</div>
<div class="paragraph">
<p>この動作は、 <code>debug</code> システム・プロパティーに以下の値のいずれかを与えることで変更できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>false</code> - JVMはデバッグモードを無効にして起動します。</p>
</li>
<li>
<p><code>true</code> - JVM はデバッグモードで起動され、 `5005`ポートをリッスンします。</p>
</li>
<li>
<p><code>client</code> - JVM はクライアントモードで起動し、 `localhost:5005`に接続を試みます。</p>
</li>
<li>
<p><code>{port}</code> - JVM はデバッグモードで起動されています。 <code>{port}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>追加のシステム・プロパティー <code>suspend</code> は、デバッグ・モードで起動されたときに JVM をサスペンドするために使用できます。 <code>suspend</code> は以下の値をサポートしています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>y</code> または <code>true</code> - デバッグモードの JVM 起動が中断されます。</p>
</li>
<li>
<p><code>n</code> または <code>false</code> - デバッグモードの JVM をサスペンドせずに起動します。</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>また、JVMをサスペンドした状態で、デバッグモードでQuarkusアプリケーションを実行することもできます。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev -Dsuspend -Ddebug</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev -Dsuspend -Ddebug</code></pre>
</div>
</div>
<div class="paragraph">
<p>次に、デバッガーを <code>localhost:5005</code> にアタッチします。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ideへのインポート"><a class="anchor" href="#ideへのインポート"></a>IDEへのインポート</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#project-creation">プロジェクトを生成したら</a>、お気に入りのIDEでインポートすることができます。唯一の要件は、Mavenプロジェクトをインポートできることです。</p>
</div>
<div class="paragraph">
<p><strong>Eclipse</strong></p>
</div>
<div class="paragraph">
<p>Eclipse で、 <code>File → Import</code> をクリックします。ウィザードで、 <code>Maven → Existing Maven Project</code> を選択します。次の画面で、プロジェクトのルートの場所を選択します。次の画面では、見つかったモジュールのリストが表示されるので、生成されたプロジェクトを選択して <code>Finish</code> をクリックします。</p>
</div>
<div class="paragraph">
<p>別のターミナルで、以下を実行します。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>では、生産性の高い環境を楽しんで下さい。</p>
</div>
<div class="paragraph">
<p><strong>IntelliJ</strong></p>
</div>
<div class="paragraph">
<p>IntelliJの場合:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>IntelliJの内部から <code>File → New → Project From Existing Sources…​</code> を選択するか、ウェルカム・ダイアログであれば <code>Import project</code> を選択してください。</p>
</li>
<li>
<p>プロジェクトのルートを選択します。</p>
</li>
<li>
<p><code>Import project from external model</code> を選択して `Maven`を選択</p>
</li>
<li>
<p>Next を数回(必要に応じてオプションを確認)</p>
</li>
<li>
<p>最後の画面でFinishをクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>別のターミナルや組込ターミナルで、以下を実行します。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>楽しんで!</p>
</div>
<div class="paragraph">
<p><strong>Apache NetBeans</strong></p>
</div>
<div class="paragraph">
<p>NetBeansの場合:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>File → Open Project</code> を選択</p>
</li>
<li>
<p>プロジェクトのルートを選択します。</p>
</li>
<li>
<p><code>Open Project</code> をクリックしてください。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>別のターミナルまたは組込ターミナルで、プロジェクトのルートに移動して次を実行します。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>楽しんで!</p>
</div>
<div class="paragraph">
<p><strong>Visual Studio Code</strong></p>
</div>
<div class="paragraph">
<p>VS Codeでプロジェクトディレクトリーを開きます。Java Extension Pack(Java拡張のセットをグループ化したもの)をインストールしている場合、プロジェクトはMavenプロジェクトとしてロードされます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-アプリケーションのビルドクラスパスツリーのロギング"><a class="anchor" href="#quarkus-アプリケーションのビルドクラスパスツリーのロギング"></a>Quarkus アプリケーションのビルドクラスパスツリーのロギング</h2>
<div class="sectionbody">
<div class="paragraph">
<p>通常、アプリケーション(Mavenプロジェクト)の依存関係は、 <code>mvn dependency:tree</code> コマンドを使用して表示することができます。しかし、Quarkusアプリケーションの場合、このコマンドはアプリケーションの実行時の依存関係のみを表示します。Quarkusのビルドプロセスは、アプリケーションで使用されているエクステンションのデプロイメント依存関係を元のアプリケーションのクラスパスに追加するので、どの依存関係とどのバージョンがビルドクラスパスで終わるかを知ることは便利です。幸いにも、 <code>quarkus-bootstrap</code> Mavenプラグインには、アプリケーションのビルド依存関係ツリーを表示する <code>build-tree</code> ゴールが含まれています。</p>
</div>
<div class="paragraph">
<p>プロジェクトで <code>./mvnw quarkus:dependency-tree</code> を実行すると、次のような出力が得られるはずです。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[INFO] --- quarkus-maven-plugin:2.9.0.Final:dependency-tree (default-cli) @ getting-started ---
[INFO] org.acme:getting-started:jar:1.0.0-SNAPSHOT
[INFO] └─ io.quarkus:quarkus-resteasy-deployment:jar:2.9.0.Final (compile)
[INFO]    ├─ io.quarkus:quarkus-resteasy-server-common-deployment:jar:2.9.0.Final (compile)
[INFO]    │  ├─ io.quarkus:quarkus-core-deployment:jar:2.9.0.Final (compile)
[INFO]    │  │  ├─ commons-beanutils:commons-beanutils:jar:1.9.3 (compile)
[INFO]    │  │  │  ├─ commons-logging:commons-logging:jar:1.2 (compile)
[INFO]    │  │  │  └─ commons-collections:commons-collections:jar:3.2.2 (compile)
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The goal accepts the following optional parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mode</code> - the default value is <code>prod</code>, i.e. the production build dependency tree. Alternatively, it accepts values <code>test</code> to display the test dependency tree and <code>dev</code> to display the dev mode dependency tree;</p>
</li>
<li>
<p><code>outputFile</code> - specifies the file to persist the dependency tree to;</p>
</li>
<li>
<p><code>appendOutput</code> - the default value is <code>false</code>, indicates whether the output to the command should be appended to the file specified with the <code>outputFile</code> parameter or it should be overriden.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="downloading-maven-artifact-dependencies-for-offline-development-and-testing"><a class="anchor" href="#downloading-maven-artifact-dependencies-for-offline-development-and-testing"></a>Downloading Maven artifact dependencies for offline development and testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus extension dependencies are divided into the runtime extension dependencies that end up on the application runtime classpath and the deployment (or build time) extension dependencies that are resolved by Quarkus only at application build time to create the build classpath. Application developers are expected to express dependencies only on the runtime artifacts of Quarkus extensions. As a consequence, the deployment extension dependencies aren&#8217;t visible to Maven plugins that aren&#8217;t aware of the Quarkus extension dependency model, such as the <code>maven-dependency-plugin</code>, <code>go-offline-maven-plugin</code>, etc. That means those plugins can not be used to pre-download all the application dependencies to be able to build and test the application later in offline mode.</p>
</div>
<div class="paragraph">
<p>To enable the use-case of building and testing a Quarkus application offline, the <code>quarkus-maven-plugin</code> includes the <code>go-offline</code> goal that could be called from the command line like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:go-offline</code></pre>
</div>
</div>
<div class="paragraph">
<p>This goal will resolve all the runtime, build time, test and dev mode dependencies of the application downloading them to the configured local Maven repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ネイティブ実行可能ファイルの構築"><a class="anchor" href="#ネイティブ実行可能ファイルの構築"></a>ネイティブ実行可能ファイルの構築</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ネイティブ実行可能ファイルにより、Quarkusアプリケーションはコンテナーやサーバーレスのワークロードに最適です。</p>
</div>
<div class="paragraph">
<p><code>GRAALVM_HOME</code> を設定し、GraalVM バージョン 22.0 を指していることを確認してください。(GraalVMのJava 11バージョンを使用していることを確認してください)。あなたの <code>pom.xml</code> が適切な <code>native</code> プロファイルを持っていることを確認してください( <a href="#build-tool-maven">[build-tool-maven</a>を]参照してください)。</p>
</div>
<div class="paragraph">
<p>次のようにネイティブ実行可能ファイルの作成</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw package -Dnative</code></pre>
</div>
</div>
<div class="paragraph">
<p>A native executable will be present in <code>target/</code>.</p>
</div>
<div class="paragraph">
<p>ネイティブ実行可能ファイルで統合テストを実行するには、適切なMavenプラグインが設定されていることを確認し( <a href="#build-tool-maven">[build-tools-maven</a>を]参照)、 <code>verify</code> ゴールを起動します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ ./mvnw verify -Pnative
...
[quarkus-quickstart-runner:50955]     universe:     391.96 ms
[quarkus-quickstart-runner:50955]      (parse):     904.37 ms
[quarkus-quickstart-runner:50955]     (inline):   1,143.32 ms
[quarkus-quickstart-runner:50955]    (compile):   6,228.44 ms
[quarkus-quickstart-runner:50955]      compile:   9,130.58 ms
[quarkus-quickstart-runner:50955]        image:   2,101.42 ms
[quarkus-quickstart-runner:50955]        write:     803.18 ms
[quarkus-quickstart-runner:50955]      [total]:  33,520.15 ms
[INFO]
[INFO] --- maven-failsafe-plugin:2.22.0:integration-test (default) @ quarkus-quickstart-native ---
[INFO]
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.acme.quickstart.GreetingResourceIT
Executing [/Users/starksm/Dev/JBoss/Quarkus/starksm64-quarkus-quickstarts/getting-started-native/target/quarkus-quickstart-runner, -Dquarkus.http.port=8081, -Dtest.url=http://localhost:8081, -Dquarkus.log.file.path=target/quarkus.log]
2019-02-28 16:52:42,020 INFO  [io.quarkus] (main) Quarkus started in 0.007s. Listening on: http://localhost:8080
2019-02-28 16:52:42,021 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy-reactive]
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.081 s - in org.acme.quickstart.GreetingResourceIT
[INFO]
[INFO] Results:
[INFO]
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

...</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="コンテナーフレンドリーな実行ファイルのビルド"><a class="anchor" href="#コンテナーフレンドリーな実行ファイルのビルド"></a>コンテナーフレンドリーな実行ファイルのビルド</h3>
<div class="paragraph">
<p>ネイティブ実行可能ファイルは、お使いのオペレーティングシステムに固有のものになります。コンテナー内で実行される実行ファイルを作成するには、次のようにします。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native -Dquarkus.native.container-build=true</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw package -Dnative -Dquarkus.native.container-build=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>生成される実行ファイルは64bitのLinux実行ファイルになるので、OSによっては実行できなくなる可能性があります。しかし、Dockerコンテナーにコピーするので問題ありません。この場合、ビルド自体もDockerコンテナー内で動作するので、ローカルにGraalVMをインストールする必要はないことに注意してください。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>デフォルトでは、 <code>quay.io/quarkus/ubi-quarkus-native-image:22.0-java11</code> Dockerイメージを使用してネイティブ実行可能ファイルが生成されます。</p>
</div>
<div class="paragraph">
<p>異なるDockerイメージでネイティブ実行可能ファイルをビルドしたい場合(例えば、異なるGraalVMのバージョンを使用するなど)、 <code>-Dquarkus.native.builder-image=&lt;image name&gt;</code> のbuild引数を使用してください。</p>
</div>
<div class="paragraph">
<p>利用可能なDockerイメージのリストは、 <a href="https://quay.io/repository/quarkus/ubi-quarkus-native-image?tab=tags">quay.io</a>にあります。特定のQuarkusのバージョンは、利用可能なすべてのイメージと互換性がない場合があることに注意してください。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>詳細は <a href="building-native-image.html">Build a native executable</a>のほか、<a href="deploying-to-kubernetes.html">Deploying Application to Kubernetes and OpenShift</a>を参照してください。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-tool-maven"><a class="anchor" href="#build-tool-maven"></a>Mavenの設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#project-creation">プロジェクトのスキャフォールド</a>を使用していない場合は、以下の要素を <code>pom.xml</code> に追加してください</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt; <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
            &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;
            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;

&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt; <i class="conum" data-value="2"></i><b>(2)</b>
            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
            &lt;extensions&gt;true&lt;/extensions&gt; <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;build&lt;/goal&gt;
                        &lt;goal&gt;generate-code&lt;/goal&gt;
                        &lt;goal&gt;generate-code-tests&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt; <i class="conum" data-value="4"></i><b>(4)</b>
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
            &lt;configuration&gt;
                &lt;systemPropertyVariables&gt;
                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;
                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;
                &lt;/systemPropertyVariables&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;

&lt;profiles&gt;
    &lt;profile&gt; <i class="conum" data-value="5"></i><b>(5)</b>
        &lt;id&gt;native&lt;/id&gt;
        &lt;properties&gt; <i class="conum" data-value="6"></i><b>(6)</b>
            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;
        &lt;/properties&gt;
        &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt; <i class="conum" data-value="7"></i><b>(7)</b>
                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
                    &lt;executions&gt;
                        &lt;execution&gt;
                            &lt;goals&gt;
                                &lt;goal&gt;integration-test&lt;/goal&gt;
                                &lt;goal&gt;verify&lt;/goal&gt;
                            &lt;/goals&gt;
                            &lt;configuration&gt;
                                &lt;systemPropertyVariables&gt;
                                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;
                                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;
                                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;
                                &lt;/systemPropertyVariables&gt;
                            &lt;/configuration&gt;
                        &lt;/execution&gt;
                    &lt;/executions&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>オプションで、BOMファイルを使用して、異なるQuarkus依存関係のバージョンを省略することができます。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>ビルドプロセスにフックするQuarkus Mavenプラグインを使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Mavenプラグインのエクステンションを有効にすると、Quarkus <code>MavenLifecycleParticipant</code> が登録され、ビルド中に使用されるQuarkusクラスローダが適切にクローズされるようになります。 <code>generate-code</code> と <code>generate-code-tests</code> のゴールでは、Quarkusアプリケーションブートストラップが初期化され、 <code>build</code> のゴール（本番アプリケーションを実際にビルドしてパッケージ化する）で再利用されます。 <code>quarkus-maven-plugin</code> の <code>build</code> ゴールでは、Quarkus のクラスローダが適切にクローズされます。しかし、 <code>generate-code</code> または <code>generate-code-tests</code> と <code>build</code> の間でビルドが失敗すると、Quarkus augmentation classloaderは適切に閉じられず、Windows OSのクラスパス上にたまたまあったJARファイルがロックされる可能性があります。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>システムのプロパティーを <code>maven-surefire-plugin</code> に追加します。+ <code>maven.home</code> は、 <code>${maven.home}/conf/settings.xml</code> にカスタム設定がある場合にのみ必要です。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>ネイティブ実行可能ファイルのビルドには、特定の <code>native</code> プロファイルを使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>native</code> パッケージタイプを有効にします。そのため、ビルドはネイティブ実行可能ファイルを生成します。</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>If you want to test your native executable with Integration Tests, add the following plugin configuration. Test names <code>*IT</code> and annotated <code>@NativeImageTest</code> or <code>@QuarkusIntegrationTest</code> will be run against the native executable. See the <a href="building-native-image">Native executable guide</a> for more info.</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="fast-jar"><a class="anchor" href="#fast-jar"></a>fast-jar の使用</h3>
<div class="paragraph">
<p><code>fast-jar</code> は、デフォルトの quarkus パッケージタイプです。</p>
</div>
<div class="paragraph">
<p>The result of the build is a directory under <code>target</code> named <code>quarkus-app</code>.</p>
</div>
<div class="paragraph">
<p>アプリケーションを実行するには、次のようにします: <code>java -jar target/quarkus-app/quarkus-run.jar</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
生成された jar を正常に実行するためには、 <code>quarkus-app</code> ディレクトリのすべての内容が必要です。いずれかのファイルが欠落していると、アプリケーションが起動しなかったり、正しく機能しない可能性があります。
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>fast-jar</code> パッケージングでは、どの依存関係のjarにクラスやリソースが含まれているかという情報がインデックス化されているため、レガシーのQuarkus jarよりも起動が少し速く、メモリ消費量もわずかに少ないアーティファクトを作成できます。このため、クラスやリソースをロードする際に、レガシー jar が必要とするクラスパス上のすべての jar を検索する必要がなくなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="uber-jar-maven"><a class="anchor" href="#uber-jar-maven"></a>Uber-Jarの作成</h3>
<div class="paragraph">
<p>Quarkus Mavenプラグインは、 <code>application.properties</code> .Quarkus Mavenプラグインで <code>quarkus.package.type=uber-jar</code> 設定オプションを指定することで、UberJar の生成をサポートしています。</p>
</div>
<div class="paragraph">
<p>元の jar は <code>target</code> ディレクトリーに残っていますが、 <code>.original</code> の接尾辞を含むように名前が変更されます。</p>
</div>
<div class="paragraph">
<p>Uber-jar をビルドする際に、 <code>quarkus.package.ignored-entries</code> 設定オプションを使用して生成された jar から除外したいエントリーを指定することができます。</p>
</div>
<div class="paragraph">
<p>デフォルトでは、Uber-Jar の作成は、アプリケーションの依存関係に存在する可能性のある <a href="https://docs.oracle.com/javase/tutorial/deployment/jar/intro.html">署名ファイル</a>を除外します。</p>
</div>
<div class="paragraph">
<p>Uber-Jarの最終的な名前は、Mavenのビルド設定 <code>finalName</code> オプションで設定できます。</p>
</div>
</div>
<div class="sect2">
<h3 id="multi-module-maven"><a class="anchor" href="#multi-module-maven"></a>マルチモジュールプロジェクトでの作業</h3>
<div class="paragraph">
<p>デフォルトでは、Quarkusは別のモジュール内のCDI Bean を検出しません。</p>
</div>
<div class="paragraph">
<p>マルチモジュールプロジェクト内のモジュールでCDI Bean検出を有効にするベストの方法は、 モジュールがメインアプリケーションモジュールでquarkus-maven-pluginが既に構成されていない限り、<code>jandex-maven-plugin</code> をインクルードすることです。モジュールがメインアプリケーションモジュールでquarkus-maven-pluginが既に構成されている場合は自動的にインデックスが作成されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;
      &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;1.2.2&lt;/version&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;make-index&lt;/id&gt;
          &lt;goals&gt;
            &lt;goal&gt;jandex&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information on this topic can be found on the <a href="cdi-reference#bean_discovery">Bean Discovery</a> section of the CDI guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="maven-configuration-profile"><a class="anchor" href="#maven-configuration-profile"></a>特定の設定プロファイルでビルド</h3>
<div class="paragraph">
<p>Quarkusは、対象となる環境に応じて特定の設定を提供するために、 <a href="config-reference.html#profiles">設定プロファイル</a>をサポートしています。</p>
</div>
<div class="paragraph">
<p>The profile can be provided directly in the Maven build&#8217;s command thanks to the system property <code>quarkus.profile</code> with a command of type:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build -Dquarkus.profile=profile-name-here</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw clean package -Dquarkus.profile=profile-name-here</code></pre>
</div>
</div>
<div class="paragraph">
<p>However it is also possible to specify the profile directly in the POM file of the project using project properties, the Quarkus Maven plugin configuration properties or system properties set in the Quarkus Maven plugin configuration.</p>
</div>
<div class="paragraph">
<p>In order of precedence (greater precedence first):</p>
</div>
<div class="listingblock">
<div class="title">1. Quarkus Mavenプラグインの設定で設定されたシステムプロパティ</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;configuration&gt;
          &lt;systemProperties&gt;
            &lt;quarkus.profile&gt;prod-aws&lt;/quarkus.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
          &lt;/systemProperties&gt;
        &lt;/configuration&gt;
     &lt;/plugin&gt;
     ...
    &lt;/plugins&gt;
  &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>このプロジェクトのデフォルトの構成プロファイルは <code>prod-aws</code> です。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">2. Quarkus Mavenプラグインの設定プロパティ</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;configuration&gt;
          &lt;properties&gt;
            &lt;quarkus.profile&gt;prod-aws&lt;/quarkus.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
          &lt;/properties&gt;
        &lt;/configuration&gt;
     &lt;/plugin&gt;
     ...
    &lt;/plugins&gt;
  &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>このプロジェクトのデフォルトの構成プロファイルは <code>prod-aws</code> です。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">3. プロジェクトプロパティ</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  ...
  &lt;properties&gt;
    &lt;quarkus.profile&gt;prod-aws&lt;/quarkus.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    ...
  &lt;/properties&gt;
...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>このプロジェクトのデフォルトの構成プロファイルは <code>prod-aws</code> です。</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Whatever the approach is chosen, the profile can still be overridden with the <code>quarkus.profile</code> system property or the <code>QUARKUS_PROFILE</code> environment variable.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="maven-multi-build"><a class="anchor" href="#maven-multi-build"></a>1つのモジュールから複数のアーティファクトの作成</h3>
<div class="paragraph">
<p>In some particular use cases, it can be interesting to build several artifacts of your application from the same module. A typical example is when you want to build your application with different configuration profiles.</p>
</div>
<div class="paragraph">
<p>In that case, it is possible to add as many executions as needed to the Quarkus Maven plugin configuration.</p>
</div>
<div class="paragraph">
<p>Below is an example of a Quarkus Maven plugin configuration that will produce two builds of the same application: one using the <code>prod-oracle</code> profile and the other one using the <code>prod-postgresql</code> profile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;oracle&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;build&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;properties&gt;
                &lt;quarkus.profile&gt;prod-oracle&lt;/quarkus.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
                &lt;quarkus.package.output-directory&gt;oracle-quarkus-app&lt;/quarkus.package.output-directory&gt; <i class="conum" data-value="2"></i><b>(2)</b>
              &lt;/properties&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
          &lt;execution&gt;
            &lt;id&gt;postgresql&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;build&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;properties&gt;
                &lt;quarkus.profile&gt;prod-postgresql&lt;/quarkus.profile&gt; <i class="conum" data-value="3"></i><b>(3)</b>
                &lt;quarkus.package.output-directory&gt;postgresql-quarkus-app&lt;/quarkus.package.output-directory&gt; <i class="conum" data-value="4"></i><b>(4)</b>
              &lt;/properties&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
     &lt;/plugin&gt;
     ...
    &lt;/plugins&gt;
  &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The default configuration profile of the first execution of the plugin is <code>prod-oracle</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The output directory of the first execution of the plugin is set to <code>oracle-quarkus-app</code> instead of <code>quarkus-app</code> to have a dedicated directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The default configuration profile of the second execution of the plugin is <code>prod-postgresql</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The output directory of the second execution of the plugin is set to <code>postgresql-quarkus-app</code> instead of <code>quarkus-app</code> to have a dedicated directory.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
With the configuration above, both profile builds will be using the same dependencies, so if we added dependencies on the Oracle and PostgreSQL drivers to the application, both of the drivers will appear in both builds.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To isolate profile-specific dependencies from other profiles, the JDBC drivers could be added as optional dependencies to the application but configured to be included in each profile that requires them, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  ...
  &lt;dependencies&gt;
    ...
    &lt;dependency&gt;
      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;
      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;
      &lt;version&gt;${postgresql.driver.version}&lt;/version&gt;
      &lt;optional&gt;true&lt;/optional&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;
        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;executions&gt;
          ...
          &lt;execution&gt;
            &lt;id&gt;postgresql&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;build&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;properties&gt;
                &lt;quarkus.profile&gt;prod-postgresql&lt;/quarkus.profile&gt;
                &lt;quarkus.package.output-directory&gt;postgresql-quarkus-app&lt;/quarkus.package.output-directory&gt;
                &lt;quarkus.package.filter-optional-dependencies&gt;true&lt;/quarkus.package.filter-optional-dependencies&gt; <i class="conum" data-value="2"></i><b>(2)</b>
                &lt;quarkus.package.included-optional-dependencies&gt;org.postgresql:postgresql::jar&lt;/quarkus.package.included-optional-dependencies&gt; <i class="conum" data-value="3"></i><b>(3)</b>
              &lt;/properties&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
     &lt;/plugin&gt;
     ...
    &lt;/plugins&gt;
  &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>PostgreSQLのJDBCドライバは、オプションの依存関係として定義されています。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>後方互換性の理由から、オプションの依存関係をフィルタリングする必要があることを明示的に示す必要があります。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>PostgreSQLのJDBCドライバに対応するオプションの依存関係のみが、最終的な成果物として期待されます。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>プロジェクト出力の設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>プロジェクトのビルドの出力を定義するための設定オプションがいくつかあります。これらは他の設定プロパティーと同じように <code>application.properties</code> で提供されています。</p>
</div>
<div class="paragraph">
<p>プロパティーは以下の通りです:</p>
</div>
<div class="paragraph configuration-legend">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span> ビルド時に固定される設定プロパティ - それ以外の設定プロパティは実行時に上書き可能</p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-package-pkg-package-config_configuration"></a><a href="#quarkus-package-pkg-package-config_configuration">Configuration property</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.type"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.type">quarkus.package.type</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The requested output type.
 The default built in types are 'jar' (which will use 'fast-jar'), 'legacy-jar' for the pre-1.12 default jar packaging, 'uber-jar', 'native' and 'native-sources'.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>jar</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.manifest.add-implementation-entries"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.manifest.add-implementation-entries">quarkus.package.manifest.add-implementation-entries</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>If the Implementation information should be included in the runner jar&#8217;s MANIFEST.MF.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.main-class"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.main-class">quarkus.package.main-class</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The entry point of the application. This can either be a a fully qualified name of a standard Java class with a main method, or <code>io.quarkus.runtime.QuarkusApplication</code>.
 If your application has main classes annotated with <code>io.quarkus.runtime.annotations.QuarkusMain</code> then this can also reference the name given in the annotation, to avoid the need to specify fully qualified names in the config.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.user-configured-ignored-entries"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.user-configured-ignored-entries">quarkus.package.user-configured-ignored-entries</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Files that should not be copied to the output artifact</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.included-optional-dependencies"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.included-optional-dependencies">quarkus.package.included-optional-dependencies</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>List of all the dependencies that have been defined as optional to include into the final package of the application. Each optional dependency needs to be expressed in the following format:
 groupId:artifactId:classifier:type
 With the classifier and type being optional.
 If the type is missing, the artifact is assumed to be of type <code>jar</code>.
 This parameter is optional, if absent, no optional dependencies will be included into the final package of the application.
 For backward compatibility reasons, this parameter is ignored by default and can be enabled by setting the parameter <code>quarkus.package.filter-optional-dependencies</code> to <code>true</code>.
 This parameter is meant to be used in modules where multi-builds have been configured to avoid getting a final package with unused dependencies.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.filter-optional-dependencies"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.filter-optional-dependencies">quarkus.package.filter-optional-dependencies</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Flag indicating whether the optional dependencies should be filtered out or not.
 This parameter is meant to be used in modules where multi-builds have been configured to avoid getting a final package with unused dependencies.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.runner-suffix"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.runner-suffix">quarkus.package.runner-suffix</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The suffix that is applied to the runner jar and native images</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-runner</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.output-directory"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.output-directory">quarkus.package.output-directory</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The output folder in which to place the output, this is resolved relative to the build systems target directory.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.output-name"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.output-name">quarkus.package.output-name</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The name of the final artifact</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.create-appcds"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.create-appcds">quarkus.package.create-appcds</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Whether to automate the creation of AppCDS. This has not effect when a native binary is needed and will be ignored in that case. Furthermore, this option only works for Java 11&#43; and is considered experimental for the time being. Finally, care must be taken to use the same exact JVM version when building and running the application.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.appcds-builder-image"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.appcds-builder-image">quarkus.package.appcds-builder-image</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>When AppCDS generation is enabled, if this property is set, then the JVM used to generate the AppCDS file will be the JVM present in the container image. The builder image is expected to have have the 'java' binary on its PATH. This flag is useful when the JVM to be used at runtime is not the same exact JVM version as the one used to build the jar. Note that this property is consulted only when <code>quarkus.package.create-appcds=true</code> and it requires having docker available during the build.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.user-providers-directory"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.user-providers-directory">quarkus.package.user-providers-directory</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>This is an advanced option that only takes effect for the mutable-jar format.
 If this is specified a directory of this name will be created in the jar distribution. Users can place jar files in this directory, and when re-augmentation is performed these will be processed and added to the class-path.
 Note that before reaugmentation has been performed these jars will be ignored, and if they are updated the app should be reaugmented again.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.include-dependency-list"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.include-dependency-list">quarkus.package.include-dependency-list</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>This option only applies when using fast-jar or mutable-jar. If this option is true then a list of all the coordinates of the artifacts that made up this image will be included in the quarkus-app directory. This list can be used by vulnerability scanners to determine if your application has any vulnerable dependencies.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.fernflower.enabled"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.fernflower.enabled">quarkus.package.fernflower.enabled</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>An advanced option that will decompile generated and transformed bytecode into the 'decompiled' directory. This is only taken into account when fast-jar is used.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.fernflower.hash"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.fernflower.hash">quarkus.package.fernflower.hash</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The git hash to use to download the fernflower tool from <a href="https://jitpack.io/com/github/fesh0r/fernflower/" class="bare">https://jitpack.io/com/github/fesh0r/fernflower/</a></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>dbf407a655</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.fernflower.jar-directory"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.fernflower.jar-directory">quarkus.package.fernflower.jar-directory</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The directory into which to save the fernflower tool if it doesn&#8217;t exist</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>${user.home}/.quarkus</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.write-transformed-bytecode-to-build-output"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.write-transformed-bytecode-to-build-output">quarkus.package.write-transformed-bytecode-to-build-output</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>If set to <code>true</code>, it will result in the Quarkus writing the transformed application bytecode to the build tool&#8217;s output directory. This is useful for post-build tools that need to scan the application bytecode - for example for offline code-coverage tools. For example, if using Maven, enabling this feature will result in the classes in <code>target/classes</code> being updated with the versions that result after Quarkus has applied its transformations. Setting this to <code>true</code> however, should be done with a lot of caution and only if subsequent builds are done in a clean environment (i.e. the build tool&#8217;s output directory has been completely cleaned).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.manifest.attributes-attributes"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.manifest.attributes-attributes">quarkus.package.manifest.attributes</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Custom manifest attributes to be added to the main section of the MANIFEST.MF file. An example of the user defined property: quarkus.package.manifest.attributes."Entry-key1"=Value1 quarkus.package.manifest.attributes."Entry-key2"=Value2</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Map&lt;String,String&gt;</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-package-pkg-package-config_quarkus.package.manifest.manifest-sections-manifest-sections"></a><code><a href="#quarkus-package-pkg-package-config_quarkus.package.manifest.manifest-sections-manifest-sections">quarkus.package.manifest.manifest-sections</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Custom manifest sections to be added to the MANIFEST.MF file. An example of the user defined property: quarkus.package.manifest.manifest-sections."Section-Name"."Entry-Key1"=Value1 quarkus.package.manifest.manifest-sections."Section-Name"."Entry-Key2"=Value2</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Map&lt;String,Map&lt;String,String&gt;&gt;</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="custom-test-configuration-profile"><a class="anchor" href="#custom-test-configuration-profile"></a>JVMモードでのカスタムテスト構成プロファイル</h3>
<div class="paragraph">
<p>By default, Quarkus tests in JVM mode are run using the <code>test</code> configuration profile. If you are not familiar with Quarkus configuration profiles, everything you need to know is explained in the <a href="config#configuration-profiles">Configuration Profiles Documentation</a>.</p>
</div>
<div class="paragraph">
<p>ただし、以下に示すMaven SurefireおよびMaven Failsafe構成で、テストにカスタム構成プロファイルを使用することは可能です。これは、例えば、デフォルトのテストデータベースではない特定のデータベースを使用してテストを実行する必要がある場合に便利です。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project&gt;
  [...]
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
        &lt;configuration&gt;
          &lt;systemPropertyVariables&gt;
            &lt;quarkus.test.profile&gt;foo&lt;/quarkus.test.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;
            [...]
          &lt;/systemPropertyVariables&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
        &lt;version&gt;${failsafe-plugin.version}&lt;/version&gt;
        &lt;configuration&gt;
          &lt;systemPropertyVariables&gt;
            &lt;quarkus.test.profile&gt;foo&lt;/quarkus.test.profile&gt; <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;
            [...]
          &lt;/systemPropertyVariables&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  [...]
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>foo</code> 設定プロファイルがテストの実行に使用されます。</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>今のところ、ネイティブモードでカスタムテスト設定プロファイルを使用することはできません。ネイティブテストは常に <code>prod</code> プロファイルを使用して実行されます。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="bootstrap-maven-properties"><a class="anchor" href="#bootstrap-maven-properties"></a>Bootstrap Mavenのプロパティ</h3>
<div class="paragraph">
<p>Quarkus bootstrap includes a Maven resolver implementation that is used to resolve application runtime and build time dependencies. The Quarkus Maven resolver is initialized from the same Maven command line that launched the build, test or dev mode. Typically, there is no need to add any extra configuration for it. However, there could be cases where an extra configuration option may be necessary to properly resolve application dependencies in test or dev modes, or IDEs.</p>
</div>
<div class="paragraph">
<p>Maven test plugins (such as <code>surefire</code> and <code>failsafe</code>), for example, are not propagating build system properties to the running tests by default. Which means some of the system properties set by the Maven CLI aren&#8217;t available for the Quarkus Maven resolver initialized for the tests, which may result in test dependencies being resolved using different settings than the main Maven build.</p>
</div>
<div class="paragraph">
<p>以下は、Quarkus bootstrap Maven resolverが初期化時にチェックするシステムプロパティのリストです。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">プロパティ名</th>
<th class="tableblock halign-left valign-top">デフォルト値</th>
<th class="tableblock halign-left valign-top">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven.home</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MAVEN_HOME</code> envvar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven のホームディレクトリは、コマンドラインで <code>-gs</code> 引数を使って明示的に提供されていない限り、グローバル設定ファイルの解決に使用されます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven.settings</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/m2/settings.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">カスタム設定ファイルが <code>-s</code> 引数で提供されていない限り、このプロパティを使用してリゾルバにカスタム Maven 設定ファイルを指定できます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven.repo.local</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/m2/repository</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">これがデフォルトのものや `settings.xml`で設定されたものと異なる場合、このプロパティを使用して、カスタムのローカル Maven リポジトリ・ディレクトリを構成することができます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven.top-level-basedir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This property may be useful to help the Maven resolver identify the top-level Maven project in the workspace. By default, the Maven resolver will be discovering a project&#8217;s workspace by navigating the parent-module POM relationship. However there could be project layouts that are using an aggregator module which isn&#8217;t appearing as the parent for its modules. In this case, this property will help the Quarkus Maven resolver to properly discover the workspace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.bootstrap.effective-model-builder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, the Quarkus Maven resolver is reading project&#8217;s POMs directly when discovering the project&#8217;s layout. While in most cases it works well enough and relatively fast, reading raw POMs has its limitation. E.g. if a POM includes modules in a profile, these modules will not be discovered. This system property enables project&#8217;s layout discovery based on the effective POM models, that are properly interpolated, instead of the raw ones. The reason this option is not enabled by default is it may appear to be significantly more time consuming that could increase, e.g. CI testing times. Until there is a better approach found that could be used by default, projects that require it should enable this option.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These system properties above could be added to, e.g., a <code>surefire</code> and/or <code>failsafe</code> plugin configuration as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project&gt;
  [...]
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
        &lt;configuration&gt;
          &lt;systemPropertyVariables&gt;
            &lt;maven.home&gt;${maven.hom}&lt;/maven.home&gt; <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;maven.repo.local&gt;${settings.localRepository}&lt;/maven.repo.local&gt; <i class="conum" data-value="2"></i><b>(2)</b>
            &lt;maven.settings&gt;${session.request.userSettingsFile.path}&lt;/maven.settings&gt; <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;maven.top-level-basedir&gt;${session.topLevelProject.basedir.absolutePath}&lt;/maven.top-level-basedir&gt; <i class="conum" data-value="4"></i><b>(4)</b>
            &lt;quarkus.bootstrap.effective-model-builder&gt;true&lt;/quarkus.bootstrap.effective-model-builder&gt; <i class="conum" data-value="5"></i><b>(5)</b>
          &lt;/systemPropertyVariables&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  [...]
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Propagate <code>maven.home</code> system property set by the Maven CLI to the tests</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>テスト用のMavenローカルリポジトリのディレクトリを設定</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Mavenの設定ファイルをテストに設定</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>テスト用のトップレベルのプロジェクト・ディレクトリを指定</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>効果的なPOMベースのプロジェクト・レイアウト・ディスカバリーを有効化</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="トップレベルとマルチモジュールのプロジェクトディレクトリ"><a class="anchor" href="#トップレベルとマルチモジュールのプロジェクトディレクトリ"></a>トップレベルとマルチモジュールのプロジェクトディレクトリ</h4>
<div class="paragraph">
<p>Mavenでは、トップレベルのプロジェクト(プロジェクトのプロパティとして公開されています。 <code>${session.topLevelProject.basedir.absolutePath}</code>)と、マルチモジュールのプロジェクトディレクトリ(プロパティとして公開されています。 <code>${maven.multiModuleProjectDirectory}</code>)という概念があるようです。これらのディレクトリは常に一致するとは限りません。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<code>maven.multiModuleProjectDirectory</code> は、Maven コード自体が参照することを意図しており、ユーザーコードが頼るべきものではありません。なので、もし便利だと思っても、自分の責任で使ってくださいね。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>${maven.multiModuleProjectDirectory}</code> will be resolved to the first directory that contains <code>.mvn</code> directory as its child going up the workspace file system tree starting from the current directory (or the one specified with the <code>-f</code> argument) from which the <code>mvn</code> command was launched. If the <code>.mvn</code> directory was not found, however, the <code>${maven.multiModuleProjectDirectory}</code> will be pointing to the directory from which the <code>mvn</code> command was launched (or the one targeted with the <code>-f</code> argument).</p>
</div>
<div class="paragraph">
<p>The <code>${session.topLevelProject.basedir.absolutePath}</code> will be pointing either to the directory from which the <code>mvn</code> command was launched or to the directory targeted with the <code>-f</code> argument, if it was specified.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-info"><a class="anchor" href="#project-info"></a>Quarkus project info</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This goal was introduced in Quarkus Maven plugin 2.7.0.Final and can be used in projects that are based on Quarkus version 2.0.0.Final or later.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Quarkus Maven plugin includes a goal called <code>info</code> (currently marked as 'experimental') that logs Quarkus-specific information about the project, such as: the imported Quarkus platform BOMs and the Quarkus extensions found among the project dependencies. In a multi-module project <code>quarkus:info</code> will assume that the current module, in which it is executed, is the main module of the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The report generated by <code>quarkus:info</code> is not currently including the Quarkus Maven plugin information, however it&#8217;s planned to be added in the future releases.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is an example <code>info</code> output for a simple project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[aloubyansky@localhost code-with-quarkus]$ mvn quarkus:info
[INFO] Scanning for projects...
[INFO]
[INFO] ---------------------&lt; org.acme:code-with-quarkus &gt;---------------------
[INFO] Building code-with-quarkus 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- quarkus-maven-plugin:2.9.0.Final:info (default-cli) @ code-with-quarkus ---
[WARNING] quarkus:info goal is experimental, its options and output may change in future versions
[INFO] Quarkus platform BOMs: <i class="conum" data-value="1"></i><b>(1)</b>
[INFO]   io.quarkus.platform:quarkus-bom:pom:2.9.0.Final
[INFO]   io.quarkus.platform:quarkus-kogito-bom:pom:2.9.0.Final
[INFO]   io.quarkus.platform:quarkus-camel-bom:pom:2.9.0.Final
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-bom: <i class="conum" data-value="2"></i><b>(2)</b>
[INFO]   io.quarkus:quarkus-resteasy-reactive
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-kogito-bom: <i class="conum" data-value="3"></i><b>(3)</b>
[INFO]   org.kie.kogito:kogito-quarkus-decisions
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-camel-bom: <i class="conum" data-value="4"></i><b>(4)</b>
[INFO]   org.apache.camel.quarkus:camel-quarkus-rabbitmq
[INFO]
[INFO] Extensions from registry.quarkus.io: <i class="conum" data-value="5"></i><b>(5)</b>
[INFO]   io.quarkiverse.prettytime:quarkus-prettytime:0.2.1</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Quarkus platform BOMs imported in the project (BOMs imported by parent POMs will also be reported)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Direct Quarkus extension dependencies managed by the <code>quarkus-bom</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Direct Quarkus extension dependencies managed by the <code>quarkus-kogito-bom</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Direct Quarkus extension dependencies managed by the <code>quarkus-camel-bom</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Direct Quarkus extensions dependencies that aren&#8217;t managed by Quarkus BOMs but found in the Quarkus extension registry</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>quarkus:info</code> will also report Quarkus extensions that aren&#8217;t found in the Quarkus extension registries if those are present among the project dependencies, indicating they have an 'unknown origin'.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="project-info-misaligned"><a class="anchor" href="#project-info-misaligned"></a>Highlighing misaligned versions</h3>
<div class="paragraph">
<p><code>quarkus:info</code> will also highlight basic Quarkus dependency version misalignments, in case they are detected. For example, if we modify the project mentioned above by removing the <code>kogito-quarkus-decisions</code> extension from the dependencies and adding a <code>2.6.3.Final</code> <code>&lt;version&gt;</code> element to the <code>quarkus-resteasy-reactive</code> dependency that is managed by the <code>quarkus-bom</code> and then run <code>quarkus:info</code> again, we&#8217;ll see something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[INFO] --- quarkus-maven-plugin:2.9.0.Final:info (default-cli) @ code-with-quarkus ---
[WARNING] quarkus:info goal is experimental, its options and output may change in future versions
[INFO] Quarkus platform BOMs:
[INFO]   io.quarkus.platform:quarkus-bom:pom:2.9.0.Final
[INFO]   io.quarkus.platform:quarkus-kogito-bom:pom:2.9.0.Final | unnecessary <i class="conum" data-value="1"></i><b>(1)</b>
[INFO]   io.quarkus.platform:quarkus-camel-bom:pom:2.9.0.Final
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-bom:
[INFO]   io.quarkus:quarkus-resteasy-reactive:2.6.3.Final | misaligned <i class="conum" data-value="2"></i><b>(2)</b>
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-camel-bom:
[INFO]   org.apache.camel.quarkus:camel-quarkus-rabbitmq
[INFO]
[INFO] Extensions from registry.quarkus.io:
[INFO]   io.quarkiverse.prettytime:quarkus-prettytime:0.2.1
[INFO]
[WARNING] Non-recommended Quarkus platform BOM and/or extension versions were found. For more details, please, execute 'mvn quarkus:update -Drectify'</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>quarkus-kogito-bom</code> import is now reported as 'unnecessary' since none of the Quarkus extensions it includes are found among the project dependencies</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The version <code>2.6.3.Final</code> of the <code>quarkus-resteasy-reactive</code> is now reported as being misaligned with the version managed by the Quarkus platform BOM imported in the project, which is 2.9.0.Final</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-update"><a class="anchor" href="#project-update"></a>Quarkus project update</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This goal was introduced in Quarkus Maven plugin 2.7.0.Final and can be used in projects that are based on Quarkus version 2.0.0.Final or later.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>quarkus:update</code> goal (currently marked as 'experimental') provided by the Quarkus Maven plugin can be used to check whether there are Quarkus-related updates available for a project, such as: new releases of the relevant Quarkus platform BOMs and non-platform Quarkus extensions present in the project. In a multi-module project the <code>update</code> goal is meant to be executed from the main Quarkus application module.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
At this point, the <code>quarkus:update</code> goal does not actually apply the recommended updates but simply reports what they are and how to apply them manually.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Quarkus Maven plugin version isn&#8217;t currently included in the update report, however it&#8217;s planned to be added in the future releases.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The way <code>quarkus:update</code> works, first, all the direct Quarkus extension dependencies of the project are collected (those that are managed by the Quarkus platform BOMs and those that aren&#8217;t but found in the Quarkus extension registries). Then the configured Quarkus extension registries (typically the <code>registry.quarkus.io</code>) will be queried for the latest recommended/supported Quarkus platform versions and non-platform Quarkus extensions compatible with them. The algorithm will then select the latest compatible combination of all the extensions found in the project, assuming such a combination actually exists. Otherwise, no updates will be suggested.</p>
</div>
<div class="paragraph">
<p>Assuming we have a project including Kogito, Camel and core Quarkus extensions available in the Quarkus platform based on Quarkus <code>2.7.1.Final</code>, the output of the <code>quarkus:update</code> would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[aloubyansky@localhost code-with-quarkus]$ mvn quarkus:update
[INFO] Scanning for projects...
[INFO]
[INFO] ---------------------&lt; org.acme:code-with-quarkus &gt;---------------------
[INFO] Building code-with-quarkus 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- quarkus-maven-plugin:2.9.0.Final:update (default-cli) @ code-with-quarkus ---
[WARNING] quarkus:update goal is experimental, its options and output might change in future versions
[INFO]
[INFO] Recommended Quarkus platform BOM updates: <i class="conum" data-value="1"></i><b>(1)</b>
[INFO] Update: io.quarkus.platform:quarkus-bom:pom:2.7.1.Final -&gt; 2.9.0.Final
[INFO] Update: io.quarkus.platform:quarkus-kogito-bom:pom:2.7.1.Final -&gt; 2.9.0.Final
[INFO] Update: io.quarkus.platform:quarkus-camel-bom:pom:2.7.1.Final -&gt; 2.9.0.Final</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A list of currently recommended Quarkus platform BOM updates</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Typically, a single project property will be used to manage all the Quarkus platform BOMs but the implementation isn&#8217;t currently smart enough to point that out and will report updates for each BOM individually.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If we modify the project to remove all the Kogito extensions from the project, change the version of the <code>quarkus-resteasy-reactive</code> extension to <code>2.6.3.Final</code> and downgrade <code>quarkus-prettytime</code> which is not included in the Quarkus platform BOMs to <code>0.2.0</code>, <code>quarkus:update</code> will report something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[INFO] Recommended Quarkus platform BOM updates: <i class="conum" data-value="1"></i><b>(1)</b>
[INFO] Update: io.quarkus.platform:quarkus-bom:pom:2.7.1.Final -&gt; 2.9.0.Final
[INFO] Update: io.quarkus.platform:quarkus-camel-bom:pom:2.7.1.Final -&gt; 2.9.0.Final
[INFO] Remove: io.quarkus.platform:quarkus-kogito-bom:pom:2.7.1.Final <i class="conum" data-value="2"></i><b>(2)</b>
[INFO]
[INFO] Extensions from io.quarkus.platform:quarkus-bom:
[INFO] Update: io.quarkus:quarkus-resteasy-reactive:2.6.3.Final -&gt; remove version (managed) <i class="conum" data-value="3"></i><b>(3)</b>
[INFO]
[INFO] Extensions from registry.quarkus.io:
[INFO] Update: io.quarkiverse.prettytime:quarkus-prettytime:0.2.0 -&gt; 0.2.1 <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A list of the currently recommended Quarkus platform BOM updates for the project</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Given that the project does not include any Kogito extensions, the BOM import is recommended to be removed</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An outdated version of the <code>quarkus-resteasy-reactive</code> is recommended to be removed in favor of the one managed by the <code>quarkus-bom</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The latest compatible version of the <code>quarkus-prettytime</code> extension</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="quarkus-project-rectify"><a class="anchor" href="#quarkus-project-rectify"></a>Quarkus project rectify</h3>
<div class="paragraph">
<p>As was mentioned above, <code>quarkus:info</code>, besides reporting Quarkus platform and extension versions, performs a quick version alignment check, to make sure the extension versions used in the project are compatible with the imported Quarkus platform BOMs. If misalignments are detected, the following warning message will be logged:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[WARNING] Non-recommended Quarkus platform BOM and/or extension versions were found. For more details, please, execute 'mvn quarkus:update -Drectify'</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>rectify</code> option is enabled, <code>quarkus:update</code>, instead of suggesting the latest recommended Quarkus version updates, will log update instructions to simply align the extension dependency versions found in the project with the currently imported Quarkus platform BOMs.</p>
</div>
</div>
</div>
</div>
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus はオープンです。このプロジェクトの全ての依存関係は<a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a>または互換性のあるライセンスの元で利用出来ます。<br /><br />このウェブサイトは <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> で構築されており、<a href='https://pages.github.com/' target='_blank'>Github Pages</a>にホストされており、完全にオープンソースです。改善したい場合、 <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>ウェブサイトをフォークし</a>、修正してみせてください。</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
            <li><a href="/">ホーム</a></li>
          
            <li><a href="/about">Quarkusについて</a></li>
          
            <li><a href="/blog">ブログ</a></li>
          
            <li><a href="/insights">ポッドキャスト</a></li>
          
            <li><a href="/events">イベント</a></li>
          
            <li><a href="/newsletter">ニュースレター</a></li>
          
            <li><a href="/publications">出版</a></li>
          
            <li><a href="/awards">受賞</a></li>
          
            <li><a href="/security">セキュリティポリシー</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォロー</span>
        <ul class="footer-links">
          
            <li><a href="https://twitter.com/quarkusio">Twitter</a></li>
          
            <li><a href="https://www.facebook.com/quarkusio">Facebook</a></li>
          
            <li><a href="https://www.linkedin.com/company/quarkusio/">Linkedin</a></li>
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg">Youtube</a></li>
          
            <li><a href="https://github.com/quarkusio">GitHub</a></li>
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
            <li><a href="/support">サポート</a></li>
          
            <li><a href="/guides">ガイド</a></li>
          
            <li><a href="/faq">FAQ</a></li>
          
            <li><a href="/get-started">入門</a></li>
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus">Stack Overflow</a></li>
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions">ディスカッション</a></li>
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev">開発メーリングリスト</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
            <li><a href="https://quarkus.io/">English</a></li>
          
            <li><a href="https://ja.quarkus.io/">Japanese</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています：</span>
        <ul class="footer-links">
          
            <li><a href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a href="https://code.quarkus.io/" target="_blank">等々...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/search-filter.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
</body>

</html>
